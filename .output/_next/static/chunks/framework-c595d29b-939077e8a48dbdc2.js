"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9513],{305:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createPrefetchCacheEntryForInitialLoad:function(){return i},getOrCreatePrefetchCacheEntry:function(){return l},prunePrefetchCache:function(){return h}});let n=r(3456),u=r(4848),f=r(4673),c=r(4819);function a(e,t){let r=(0,n.createHrefFromUrl)(e,!1);return t?t+"%"+r:r}function l(e){let t,{url:r,nextUrl:n,tree:u,buildId:c,prefetchCache:l,kind:i}=e,h=a(r,n),o=l.get(h);if(o)t=o;else{let e=a(r),n=l.get(e);n&&(t=n)}return t?(t.status=P(t),t.kind!==f.PrefetchKind.FULL&&i===f.PrefetchKind.FULL)?s({tree:u,url:r,buildId:c,nextUrl:n,prefetchCache:l,kind:null!=i?i:f.PrefetchKind.TEMPORARY}):(i&&t.kind===f.PrefetchKind.TEMPORARY&&(t.kind=i),t):s({tree:u,url:r,buildId:c,nextUrl:n,prefetchCache:l,kind:i||f.PrefetchKind.TEMPORARY})}function i(e){let{nextUrl:t,tree:r,prefetchCache:n,url:u,kind:c,data:l}=e,[,,,i]=l,s=i?a(u,t):a(u),h={treeAtTimeOfPrefetch:r,data:Promise.resolve(l),kind:c,prefetchTime:Date.now(),lastUsedTime:Date.now(),key:s,status:f.PrefetchCacheEntryStatus.fresh};return n.set(s,h),h}function s(e){let{url:t,kind:r,tree:n,nextUrl:l,buildId:i,prefetchCache:s}=e,h=a(t),o=c.prefetchQueue.enqueue(()=>(0,u.fetchServerResponse)(t,n,l,i,r).then(e=>{let[,,,r]=e;return r&&function(e){let{url:t,nextUrl:r,prefetchCache:n}=e,u=a(t),f=n.get(u);if(!f)return;let c=a(t,r);n.set(c,f),n.delete(u)}({url:t,nextUrl:l,prefetchCache:s}),e})),d={treeAtTimeOfPrefetch:n,data:o,kind:r,prefetchTime:Date.now(),lastUsedTime:null,key:h,status:f.PrefetchCacheEntryStatus.fresh};return s.set(h,d),d}function h(e){for(let[t,r]of e)P(r)===f.PrefetchCacheEntryStatus.expired&&e.delete(t)}let o=1e3*Number("30"),d=1e3*Number("300");function P(e){let{kind:t,prefetchTime:r,lastUsedTime:n}=e;return Date.now()<(null!=n?n:r)+o?n?f.PrefetchCacheEntryStatus.reusable:f.PrefetchCacheEntryStatus.fresh:"auto"===t&&Date.now()<r+d?f.PrefetchCacheEntryStatus.stale:"full"===t&&Date.now()<r+d?f.PrefetchCacheEntryStatus.reusable:f.PrefetchCacheEntryStatus.expired}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}}]);